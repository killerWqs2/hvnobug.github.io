<!-- build time:Thu Jan 23 2020 05:21:49 GMT+0000 (Coordinated Universal Time) --><!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5"><title>Opencv 开源项目 | Emil`s Blog</title><meta name="description" content="Opencv 开源项目"><meta name="keywords" content="python,opencv"><meta name="author" content="Emil"><meta name="copyright" content="Emil"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/hvnobug/assets/common/favicon.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="manifest" href="/pwa/manifest.json"><meta name="theme-color" content="#fff"><meta name="msapplication-TileColor" content="#fff"><link rel="apple-touch-icon" sizes="180x180" href="/pwa/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/pwa/32.png"><link rel="icon" type="image/png" sizes="16x16" href="/pwa/16.png"><link rel="mask-icon" href="/pwa/safari-pinned-tab.svg" color="#5bbad5"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Opencv 开源项目"><meta name="twitter:description" content="Opencv 开源项目"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/original-anime/16.png"><meta property="og:type" content="article"><meta property="og:title" content="Opencv 开源项目"><meta property="og:url" content="https://blog.hvnobug.com/post/opencv-opensource"><meta property="og:site_name" content="Emil`s Blog"><meta property="og:description" content="Opencv 开源项目"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/original-anime/16.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>function activateDarkMode(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#000")}function activateLightMode(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#fff")}const autoChangeMode="false";var t=Cookies.get("theme"),isDarkMode,isLightMode,isNotSpecified,hasNoSupport;"dark"==t?activateDarkMode():"light"==t&&activateLightMode()</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="https://blog.hvnobug.com/post/opencv-opensource"><link rel="prev" title="推荐一些实用的Github项目(Java篇)" href="https://blog.hvnobug.com/post/awesome-java-github-project.html"><link rel="next" title="关于博客文章加密的设计" href="https://blog.hvnobug.com/post/about-document-encrypt.html"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"找不到您查询的内容:${query}"}},translate:{defaultEncoding:2,translateDelay:0,cookieDomain:"https://blog.hvnobug.com/",msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"简"},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},bookmark:{title:"Snackbar.bookmark.title",message_prev:"按",message_next:"键将本页加入书签"},runtime_unit:"天",runtime:!0,copyright:{languages:{author:"作者: Emil",link:"链接: https://blog.hvnobug.com/post/opencv-opensource",source:"来源: Emil`s Blog",info:"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},ClickShowText:void 0,medium_zoom:!0,fancybox:!1,Snackbar:{bookmark:{title:"Snackbar.bookmark.title",message_prev:"按",message_next:"键将本页加入书签"},chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#2d3035",position:"bottom-left"},baiduPush:!1,isHome:!1,isPost:!0}</script><link rel="stylesheet" href="/assets/loading-page.css"><script type="application/javascript" src="/assets/loading-page.js"></script><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="Emil`s Blog" type="application/atom+xml"></head><div id="loading-container"><p class="loading-text">玩命加载中 . . .</p><div class="loading-image"><div></div><div></div><div></div><div></div><div></div></div></div><body><canvas class="fireworks"></canvas><header><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Emil`s Blog</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-sitemap" aria-hidden="true"></i><span> 统计</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 媒体</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/album/"><i class="fa-fw fa fa-image"></i><span> 相册</span></a></li><li><a class="site-page" href="/books/"><i class="fa-fw fa fa-book"></i><span> 书籍</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li><li><a class="site-page" href="/games/"><i class="fa-fw fa fa-gamepad"></i><span> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/friends/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/hvnobug/assets/common/avatar.png" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">33</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">22</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">17</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-sitemap" aria-hidden="true"></i><span> 统计</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 媒体</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/album/"><i class="fa-fw fa fa-image"></i><span> 相册</span></a></li><li><a class="site-page" href="/books/"><i class="fa-fw fa fa-book"></i><span> 书籍</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li><li><a class="site-page" href="/games/"><i class="fa-fw fa fa-gamepad"></i><span> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/friends/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Roujack-mathAI"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">Roujack&#x2F;mathAI</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#oarriaga-face-classification"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">oarriaga&#x2F;face_classification</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Face-classification-and-detection"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">Face classification and detection.</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Emotion-gender-examples"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text">Emotion&#x2F;gender examples:</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Instructions"><span class="toc_mobile_items-number">2.2.1.</span> <span class="toc_mobile_items-text">Instructions</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#Run-real-time-emotion-demo"><span class="toc_mobile_items-number">2.2.1.1.</span> <span class="toc_mobile_items-text">Run real-time emotion demo:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#Run-real-time-guided-back-prop-demo"><span class="toc_mobile_items-number">2.2.1.2.</span> <span class="toc_mobile_items-text">Run real-time guided back-prop demo:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#Make-inference-on-single-images"><span class="toc_mobile_items-number">2.2.1.3.</span> <span class="toc_mobile_items-text">Make inference on single images:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#Running-with-Docker"><span class="toc_mobile_items-number">2.2.1.4.</span> <span class="toc_mobile_items-text">Running with Docker</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#To-train-previous-new-models-for-emotion-classification"><span class="toc_mobile_items-number">2.2.1.5.</span> <span class="toc_mobile_items-text">To train previous&#x2F;new models for emotion classification:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#To-train-previous-new-models-for-gender-classification"><span class="toc_mobile_items-number">2.2.1.6.</span> <span class="toc_mobile_items-text">To train previous&#x2F;new models for gender classification:</span></a></li></ol></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Fingers-Detection-using-OpenCV-and-Python"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">Fingers-Detection-using-OpenCV-and-Python</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Environment"><span class="toc_mobile_items-number">3.1.</span> <span class="toc_mobile_items-text">Environment</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Demo-Videos"><span class="toc_mobile_items-number">3.2.</span> <span class="toc_mobile_items-text">Demo Videos</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#How-to-run-it"><span class="toc_mobile_items-number">3.3.</span> <span class="toc_mobile_items-text">How to run it?</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Process"><span class="toc_mobile_items-number">3.4.</span> <span class="toc_mobile_items-text">Process</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Capture-original-image"><span class="toc_mobile_items-number">3.4.1.</span> <span class="toc_mobile_items-text">Capture original image</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Capture-background-model-amp-Background-subtraction"><span class="toc_mobile_items-number">3.4.2.</span> <span class="toc_mobile_items-text">Capture background model &amp; Background subtraction</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Gaussian-blur-amp-Threshold"><span class="toc_mobile_items-number">3.4.3.</span> <span class="toc_mobile_items-text">Gaussian blur &amp; Threshold</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Contour-amp-Hull-amp-Convexity"><span class="toc_mobile_items-number">3.4.4.</span> <span class="toc_mobile_items-text">Contour &amp; Hull &amp; Convexity</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#References-amp-Tutorials"><span class="toc_mobile_items-number">3.5.</span> <span class="toc_mobile_items-text">References &amp; Tutorials</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Kr1s77-flask-video-streaming-recorder"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">Kr1s77&#x2F;flask-video-streaming-recorder</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Installing"><span class="toc_mobile_items-number">4.1.</span> <span class="toc_mobile_items-text">Installing</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#🐍First-you-should-install-Python3-x-on-your-Raspberry-Pi"><span class="toc_mobile_items-number">4.1.1.</span> <span class="toc_mobile_items-text">🐍First you should install Python3.x on your Raspberry Pi</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Next-install-the-module"><span class="toc_mobile_items-number">4.1.2.</span> <span class="toc_mobile_items-text">Next install the module</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Running-the-tests"><span class="toc_mobile_items-number">4.2.</span> <span class="toc_mobile_items-text">Running the tests</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Author"><span class="toc_mobile_items-number">4.3.</span> <span class="toc_mobile_items-text">Author</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Acknowledgments"><span class="toc_mobile_items-number">4.4.</span> <span class="toc_mobile_items-text">Acknowledgments</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#nuno-faria-tiler"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">nuno-faria&#x2F;tiler</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#About"><span class="toc_mobile_items-number">5.1.</span> <span class="toc_mobile_items-text">About</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Installation"><span class="toc_mobile_items-number">5.2.</span> <span class="toc_mobile_items-text">Installation</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Usage"><span class="toc_mobile_items-number">5.3.</span> <span class="toc_mobile_items-text">Usage</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Configuration"><span class="toc_mobile_items-number">5.4.</span> <span class="toc_mobile_items-text">Configuration</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#gen-tiles-py"><span class="toc_mobile_items-number">5.4.1.</span> <span class="toc_mobile_items-text">gen_tiles.py</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#tiler-py"><span class="toc_mobile_items-number">5.4.2.</span> <span class="toc_mobile_items-text">tiler.py</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Examples"><span class="toc_mobile_items-number">5.5.</span> <span class="toc_mobile_items-text">Examples</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Circles"><span class="toc_mobile_items-number">5.5.1.</span> <span class="toc_mobile_items-text">Circles</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#Various-sizes"><span class="toc_mobile_items-number">5.5.1.1.</span> <span class="toc_mobile_items-text">Various sizes</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#Fixed"><span class="toc_mobile_items-number">5.5.1.2.</span> <span class="toc_mobile_items-text">Fixed</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Paper-clips"><span class="toc_mobile_items-number">5.5.2.</span> <span class="toc_mobile_items-text">Paper clips</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Cross-stitch-times"><span class="toc_mobile_items-number">5.5.3.</span> <span class="toc_mobile_items-text">Cross stitch (times)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Hearts"><span class="toc_mobile_items-number">5.5.4.</span> <span class="toc_mobile_items-text">Hearts</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Legos"><span class="toc_mobile_items-number">5.5.5.</span> <span class="toc_mobile_items-text">Legos</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Minecraft-blocks"><span class="toc_mobile_items-number">5.5.6.</span> <span class="toc_mobile_items-text">Minecraft blocks</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Stripes-lines"><span class="toc_mobile_items-number">5.5.7.</span> <span class="toc_mobile_items-text">Stripes (lines)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#At"><span class="toc_mobile_items-number">5.5.8.</span> <span class="toc_mobile_items-text">At</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Hironsan-BossSensor"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">Hironsan&#x2F;BossSensor</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#BossSensor"><span class="toc_mobile_items-number">6.1.</span> <span class="toc_mobile_items-text">BossSensor</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Demo"><span class="toc_mobile_items-number">6.1.1.</span> <span class="toc_mobile_items-text">Demo</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Requirements"><span class="toc_mobile_items-number">6.1.2.</span> <span class="toc_mobile_items-text">Requirements</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Usage-1"><span class="toc_mobile_items-number">6.1.3.</span> <span class="toc_mobile_items-text">Usage</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Install"><span class="toc_mobile_items-number">6.1.4.</span> <span class="toc_mobile_items-text">Install</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Licence"><span class="toc_mobile_items-number">6.1.5.</span> <span class="toc_mobile_items-text">Licence</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#Author-1"><span class="toc_mobile_items-number">6.1.6.</span> <span class="toc_mobile_items-text">Author</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#vipstone-faceai"><span class="toc_mobile_items-number">7.</span> <span class="toc_mobile_items-text">vipstone&#x2F;faceai</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#功能"><span class="toc_mobile_items-number">7.1.</span> <span class="toc_mobile_items-text">功能</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#开发环境"><span class="toc_mobile_items-number">7.2.</span> <span class="toc_mobile_items-text">开发环境</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#教程"><span class="toc_mobile_items-number">7.3.</span> <span class="toc_mobile_items-text">教程</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#其他教程"><span class="toc_mobile_items-number">7.4.</span> <span class="toc_mobile_items-text">其他教程</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#功能预览"><span class="toc_mobile_items-number">7.5.</span> <span class="toc_mobile_items-text">功能预览</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#技术方案"><span class="toc_mobile_items-number">7.6.</span> <span class="toc_mobile_items-text">技术方案</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#TODO"><span class="toc_mobile_items-number">7.6.1.</span> <span class="toc_mobile_items-text">TODO</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#youyuge34-Anime-InPainting"><span class="toc_mobile_items-number">8.</span> <span class="toc_mobile_items-text">youyuge34&#x2F;Anime-InPainting</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#重要"><span class="toc_mobile_items-number">8.1.</span> <span class="toc_mobile_items-text">重要</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#简介"><span class="toc_mobile_items-number">8.2.</span> <span class="toc_mobile_items-text">简介</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#基础环境"><span class="toc_mobile_items-number">8.3.</span> <span class="toc_mobile_items-text">基础环境</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#第三方库安装"><span class="toc_mobile_items-number">8.4.</span> <span class="toc_mobile_items-text">第三方库安装</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#运行Tool"><span class="toc_mobile_items-number">8.5.</span> <span class="toc_mobile_items-text">运行Tool</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#默认Tool"><span class="toc_mobile_items-number">8.5.1.</span> <span class="toc_mobile_items-text">默认Tool:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#带Edge编辑窗口的Tool"><span class="toc_mobile_items-number">8.5.2.</span> <span class="toc_mobile_items-text">带Edge编辑窗口的Tool:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#命令行参数帮助"><span class="toc_mobile_items-number">8.5.3.</span> <span class="toc_mobile_items-text">命令行参数帮助</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Tool操作指南"><span class="toc_mobile_items-number">8.6.</span> <span class="toc_mobile_items-text">Tool操作指南</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#训练指南"><span class="toc_mobile_items-number">8.7.</span> <span class="toc_mobile_items-text">训练指南</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Feature-Matching-特征匹配"><span class="toc_mobile_items-number">8.8.</span> <span class="toc_mobile_items-text">Feature Matching(特征匹配)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Inpainting-图片修复"><span class="toc_mobile_items-number">8.9.</span> <span class="toc_mobile_items-text">Inpainting(图片修复)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Todo"><span class="toc_mobile_items-number">8.10.</span> <span class="toc_mobile_items-text">Todo</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#License"><span class="toc_mobile_items-number">8.10.1.</span> <span class="toc_mobile_items-text">License</span></a></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Roujack-mathAI"><span class="toc-number">1.</span> <span class="toc-text">Roujack&#x2F;mathAI</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#oarriaga-face-classification"><span class="toc-number">2.</span> <span class="toc-text">oarriaga&#x2F;face_classification</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Face-classification-and-detection"><span class="toc-number">2.1.</span> <span class="toc-text">Face classification and detection.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Emotion-gender-examples"><span class="toc-number">2.2.</span> <span class="toc-text">Emotion&#x2F;gender examples:</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Instructions"><span class="toc-number">2.2.1.</span> <span class="toc-text">Instructions</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Run-real-time-emotion-demo"><span class="toc-number">2.2.1.1.</span> <span class="toc-text">Run real-time emotion demo:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Run-real-time-guided-back-prop-demo"><span class="toc-number">2.2.1.2.</span> <span class="toc-text">Run real-time guided back-prop demo:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Make-inference-on-single-images"><span class="toc-number">2.2.1.3.</span> <span class="toc-text">Make inference on single images:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Running-with-Docker"><span class="toc-number">2.2.1.4.</span> <span class="toc-text">Running with Docker</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#To-train-previous-new-models-for-emotion-classification"><span class="toc-number">2.2.1.5.</span> <span class="toc-text">To train previous&#x2F;new models for emotion classification:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#To-train-previous-new-models-for-gender-classification"><span class="toc-number">2.2.1.6.</span> <span class="toc-text">To train previous&#x2F;new models for gender classification:</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Fingers-Detection-using-OpenCV-and-Python"><span class="toc-number">3.</span> <span class="toc-text">Fingers-Detection-using-OpenCV-and-Python</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Environment"><span class="toc-number">3.1.</span> <span class="toc-text">Environment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Demo-Videos"><span class="toc-number">3.2.</span> <span class="toc-text">Demo Videos</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#How-to-run-it"><span class="toc-number">3.3.</span> <span class="toc-text">How to run it?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Process"><span class="toc-number">3.4.</span> <span class="toc-text">Process</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Capture-original-image"><span class="toc-number">3.4.1.</span> <span class="toc-text">Capture original image</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Capture-background-model-amp-Background-subtraction"><span class="toc-number">3.4.2.</span> <span class="toc-text">Capture background model &amp; Background subtraction</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Gaussian-blur-amp-Threshold"><span class="toc-number">3.4.3.</span> <span class="toc-text">Gaussian blur &amp; Threshold</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Contour-amp-Hull-amp-Convexity"><span class="toc-number">3.4.4.</span> <span class="toc-text">Contour &amp; Hull &amp; Convexity</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#References-amp-Tutorials"><span class="toc-number">3.5.</span> <span class="toc-text">References &amp; Tutorials</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Kr1s77-flask-video-streaming-recorder"><span class="toc-number">4.</span> <span class="toc-text">Kr1s77&#x2F;flask-video-streaming-recorder</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Installing"><span class="toc-number">4.1.</span> <span class="toc-text">Installing</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#🐍First-you-should-install-Python3-x-on-your-Raspberry-Pi"><span class="toc-number">4.1.1.</span> <span class="toc-text">🐍First you should install Python3.x on your Raspberry Pi</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Next-install-the-module"><span class="toc-number">4.1.2.</span> <span class="toc-text">Next install the module</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Running-the-tests"><span class="toc-number">4.2.</span> <span class="toc-text">Running the tests</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Author"><span class="toc-number">4.3.</span> <span class="toc-text">Author</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Acknowledgments"><span class="toc-number">4.4.</span> <span class="toc-text">Acknowledgments</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nuno-faria-tiler"><span class="toc-number">5.</span> <span class="toc-text">nuno-faria&#x2F;tiler</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#About"><span class="toc-number">5.1.</span> <span class="toc-text">About</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Installation"><span class="toc-number">5.2.</span> <span class="toc-text">Installation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Usage"><span class="toc-number">5.3.</span> <span class="toc-text">Usage</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Configuration"><span class="toc-number">5.4.</span> <span class="toc-text">Configuration</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#gen-tiles-py"><span class="toc-number">5.4.1.</span> <span class="toc-text">gen_tiles.py</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tiler-py"><span class="toc-number">5.4.2.</span> <span class="toc-text">tiler.py</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Examples"><span class="toc-number">5.5.</span> <span class="toc-text">Examples</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Circles"><span class="toc-number">5.5.1.</span> <span class="toc-text">Circles</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Various-sizes"><span class="toc-number">5.5.1.1.</span> <span class="toc-text">Various sizes</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Fixed"><span class="toc-number">5.5.1.2.</span> <span class="toc-text">Fixed</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Paper-clips"><span class="toc-number">5.5.2.</span> <span class="toc-text">Paper clips</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Cross-stitch-times"><span class="toc-number">5.5.3.</span> <span class="toc-text">Cross stitch (times)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Hearts"><span class="toc-number">5.5.4.</span> <span class="toc-text">Hearts</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Legos"><span class="toc-number">5.5.5.</span> <span class="toc-text">Legos</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Minecraft-blocks"><span class="toc-number">5.5.6.</span> <span class="toc-text">Minecraft blocks</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Stripes-lines"><span class="toc-number">5.5.7.</span> <span class="toc-text">Stripes (lines)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#At"><span class="toc-number">5.5.8.</span> <span class="toc-text">At</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hironsan-BossSensor"><span class="toc-number">6.</span> <span class="toc-text">Hironsan&#x2F;BossSensor</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#BossSensor"><span class="toc-number">6.1.</span> <span class="toc-text">BossSensor</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Demo"><span class="toc-number">6.1.1.</span> <span class="toc-text">Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Requirements"><span class="toc-number">6.1.2.</span> <span class="toc-text">Requirements</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Usage-1"><span class="toc-number">6.1.3.</span> <span class="toc-text">Usage</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Install"><span class="toc-number">6.1.4.</span> <span class="toc-text">Install</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Licence"><span class="toc-number">6.1.5.</span> <span class="toc-text">Licence</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Author-1"><span class="toc-number">6.1.6.</span> <span class="toc-text">Author</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vipstone-faceai"><span class="toc-number">7.</span> <span class="toc-text">vipstone&#x2F;faceai</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#功能"><span class="toc-number">7.1.</span> <span class="toc-text">功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#开发环境"><span class="toc-number">7.2.</span> <span class="toc-text">开发环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#教程"><span class="toc-number">7.3.</span> <span class="toc-text">教程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他教程"><span class="toc-number">7.4.</span> <span class="toc-text">其他教程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#功能预览"><span class="toc-number">7.5.</span> <span class="toc-text">功能预览</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#技术方案"><span class="toc-number">7.6.</span> <span class="toc-text">技术方案</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#TODO"><span class="toc-number">7.6.1.</span> <span class="toc-text">TODO</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#youyuge34-Anime-InPainting"><span class="toc-number">8.</span> <span class="toc-text">youyuge34&#x2F;Anime-InPainting</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#重要"><span class="toc-number">8.1.</span> <span class="toc-text">重要</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#简介"><span class="toc-number">8.2.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#基础环境"><span class="toc-number">8.3.</span> <span class="toc-text">基础环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#第三方库安装"><span class="toc-number">8.4.</span> <span class="toc-text">第三方库安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#运行Tool"><span class="toc-number">8.5.</span> <span class="toc-text">运行Tool</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#默认Tool"><span class="toc-number">8.5.1.</span> <span class="toc-text">默认Tool:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#带Edge编辑窗口的Tool"><span class="toc-number">8.5.2.</span> <span class="toc-text">带Edge编辑窗口的Tool:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#命令行参数帮助"><span class="toc-number">8.5.3.</span> <span class="toc-text">命令行参数帮助</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tool操作指南"><span class="toc-number">8.6.</span> <span class="toc-text">Tool操作指南</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#训练指南"><span class="toc-number">8.7.</span> <span class="toc-text">训练指南</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Feature-Matching-特征匹配"><span class="toc-number">8.8.</span> <span class="toc-text">Feature Matching(特征匹配)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Inpainting-图片修复"><span class="toc-number">8.9.</span> <span class="toc-text">Inpainting(图片修复)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Todo"><span class="toc-number">8.10.</span> <span class="toc-text">Todo</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#License"><span class="toc-number">8.10.1.</span> <span class="toc-text">License</span></a></li></ol></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image:url(https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/original-anime/16.png)"><div id="post-info"><div id="post-title"><div class="posttitle">Opencv 开源项目</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2019-12-20</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/python/">python</a></span><div class="post-meta-wordcount"><i class="fa fa-file-word-o post-meta__icon fa-fw" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">4k</span><span class="post-meta__separator">|</span><i class="fa fa-clock-o post-meta__icon fa-fw" aria-hidden="true"></i><span>阅读时长: 16 分钟</span><div class="post-meta-pv-cv"><span class="post-meta__separator">|</span><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span></div></div></div></div></div><div class="layout layout_post" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h2 id="Roujack-mathAI"><a href="#Roujack-mathAI" class="headerlink" title="Roujack/mathAI"></a>Roujack/mathAI</h2><blockquote><p>一个拍照做题程序。输入一张包含数学计算题的图片，输出识别出的数学计算式以及计算结果。This is a mathematic expression recognition project.</p></blockquote><p><a href="https://github.com/Roujack/mathAI" target="_blank" rel="noopener">mathAI</a></p><p>一个拍照做题程序。输入一张包含数学计算题的图片，输出识别出的数学计算式以及计算结果。<br><strong>请查看系统文档说明来运行程序。注意，这是一个半开源的项目，目前上传的版本只能处理简单的一维加减乘除算术表达式（如果想要识别更加复杂的表达式，可以参考数学公式识别的论文）。可以参考的代码是前面字符识别部分以及整个算法处理框架。</strong><br><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/Roujack/mathAI/test.png" alt></p><p>整个程序使用python实现，具体处理流程包括了图像预处理、字符识别、数学公式识别、数学公式语义理解、结果输出。</p><p>本程序使用opencv对输入的图像进行预处理，并将字符裁剪出来再归一化成固定大小的矩阵。我在TensorFlow上实现了一个lenet5<br>的卷积神经网络用来识别数学字符，训练使用CHROME数据集。对于数学公式的识别，主要是将识别出的独立的字符组织成计算机能够<br>理解的数学公式（这里的数学公式就是纯字符的可求解的数学计算题）。大概的方法是使用编译原理的算符优先法和递归下降法进行实现。<br>然后根据属性文法的值传递思想，将数学公式的值计算出来。最后使用python的matlibplot库把计算过程和答案打印出来。</p><p>优点：这是一整套拍照做题的算法框架，同时能够处理多种多样的计算题，目前市面上还没有看到实现。OCR技术如此成熟的今天字符识别<br>已经不算有挑战的东西了。<br>缺点：字符空间关系判断只用了人类启发式规则，图像预处理不够鲁棒，数学公式的结构识别算法不够完美（可以考虑使用二维文法来做）。<br>系统还有很大的提升空间。</p><p>这本来是一个很有野心的project，因为它试图解决所有的我们遇到的数学题。更一般的是，我试图实现一个演算系统，<br>在这个系统里，输入一些规则（公理），以及已知条件，我们希望它能够推出一些结论出来。但是我发现这是一个很难的问题。<br>最近的学习结论告诉我，一方面循环不变式的寻找无法自动化，另一方面演算的时间和空间复杂度太高（可以参考prolog语言的实现）。</p><p>什么是智能？是现在的机器学习吗？我觉得不像。SVM是最大化函数间隔的算法，神经网络是寻找损失函数局部最优解的过程。这些技术只是数学层面的优化。<br>还是某种推理能力？我不知道。如果给它一些演算规则，和一些具有现实意义的符号，再加上一些公理，它能够演算出一些结论，这个结论具有现实意义，<br>是不是就意味着智能？我觉着是的，不过很难实现。据说吴文俊采用了自动化的方法证明了几何定理（吴方法）。</p><p>我们的意识或者思维到底是什么东西？信息在大脑里面到底是如何表示的？我们为什么具有泛华的学习能力？一方面脑认知科学在求索，一方面计算科学也在求索。<br>我希望意识是能够认识物质的，并在最终达到越来越完美的过程。这才是科研的意义。我愿一直去寻找真理。</p><h2 id="oarriaga-face-classification"><a href="#oarriaga-face-classification" class="headerlink" title="oarriaga/face_classification"></a>oarriaga/face_classification</h2><blockquote><p>Real-time face detection and emotion/gender classification using fer2013/imdb datasets with a keras CNN model and openCV.</p></blockquote><p>一个实时人脸检测,表情/性别分析</p><p><a href="https://github.com/oarriaga/face_classification" target="_blank" rel="noopener">face_classification</a></p><h3 id="Face-classification-and-detection"><a href="#Face-classification-and-detection" class="headerlink" title="Face classification and detection."></a>Face classification and detection.</h3><p>Real-time face detection and emotion/gender classification using fer2013/IMDB datasets with a keras CNN model and openCV.</p><ul><li>IMDB gender classification test accuracy: 96%.</li><li>fer2013 emotion classification test accuracy: 66%.</li></ul><p>For more information please consult the <a href="https://cdn.jsdelivr.net/gh/oarriaga/face_classification@master/report.pdf" target="_blank" rel="noopener">publication</a></p><h3 id="Emotion-gender-examples"><a href="#Emotion-gender-examples" class="headerlink" title="Emotion/gender examples:"></a>Emotion/gender examples:</h3><p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/oarriaga/face_classification@master/images/demo_results.png" alt></p><p>Guided back-prop<br><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/oarriaga/face_classification@master/images/gradcam_results.png" alt></p><p>Real-time demo:</p><div align="center"><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://github.com/oarriaga/face_classification/raw/master/images/color_demo.gif" width="400px"></div><p><a href="https://mas-group.inf.h-brs.de/?page_id=622" target="_blank" rel="noopener">B-IT-BOTS</a> robotics team :)<br><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/oarriaga/face_classification@master/images/robocup_team.png" alt></p><h4 id="Instructions"><a href="#Instructions" class="headerlink" title="Instructions"></a>Instructions</h4><h5 id="Run-real-time-emotion-demo"><a href="#Run-real-time-emotion-demo" class="headerlink" title="Run real-time emotion demo:"></a>Run real-time emotion demo:</h5><blockquote><p>python3 video_emotion_color_demo.py</p></blockquote><h5 id="Run-real-time-guided-back-prop-demo"><a href="#Run-real-time-guided-back-prop-demo" class="headerlink" title="Run real-time guided back-prop demo:"></a>Run real-time guided back-prop demo:</h5><blockquote><p>python3 image_gradcam_demo.py</p></blockquote><h5 id="Make-inference-on-single-images"><a href="#Make-inference-on-single-images" class="headerlink" title="Make inference on single images:"></a>Make inference on single images:</h5><blockquote><p>python3 image_emotion_gender_demo.py<image_path></image_path></p></blockquote><p>e.g.</p><blockquote><p>python3 image_emotion_gender_demo.py ../images/test_image.jpg</p></blockquote><h5 id="Running-with-Docker"><a href="#Running-with-Docker" class="headerlink" title="Running with Docker"></a>Running with Docker</h5><p>With a few steps one can get its own face classification and detection running. Follow the commands below:</p><ul><li><code>docker pull ekholabs/face-classifier</code></li><li><code>docker run -d -p 8084:8084 --name=face-classifier ekholabs/face-classifier</code></li><li><code>curl -v -F image=@[path_to_image] http://localhost:8084/classifyImage &gt; image.png</code></li></ul><h5 id="To-train-previous-new-models-for-emotion-classification"><a href="#To-train-previous-new-models-for-emotion-classification" class="headerlink" title="To train previous/new models for emotion classification:"></a>To train previous/new models for emotion classification:</h5><ul><li><p>Download the fer2013.tar.gz file from <a href="https://www.kaggle.com/c/challenges-in-representation-learning-facial-expression-recognition-challenge/data" target="_blank" rel="noopener">here</a></p></li><li><p>Move the downloaded file to the datasets directory inside this repository.</p></li><li><p>Untar the file:</p><blockquote><p>tar -xzf fer2013.tar</p></blockquote></li><li><p>Run the train_emotion_classification.py file</p><blockquote><p>python3 train_emotion_classifier.py</p></blockquote></li></ul><h5 id="To-train-previous-new-models-for-gender-classification"><a href="#To-train-previous-new-models-for-gender-classification" class="headerlink" title="To train previous/new models for gender classification:"></a>To train previous/new models for gender classification:</h5><ul><li><p>Download the imdb_crop.tar file from <a href="https://data.vision.ee.ethz.ch/cvl/rrothe/imdb-wiki/" target="_blank" rel="noopener">here</a> (It’s the 7GB button with the tittle Download faces only).</p></li><li><p>Move the downloaded file to the datasets directory inside this repository.</p></li><li><p>Untar the file:</p><blockquote><p>tar -xfv imdb_crop.tar</p></blockquote></li><li><p>Run the train_gender_classification.py file</p><blockquote><p>python3 train_gender_classifier.py</p></blockquote></li></ul><h2 id="Fingers-Detection-using-OpenCV-and-Python"><a href="#Fingers-Detection-using-OpenCV-and-Python" class="headerlink" title="Fingers-Detection-using-OpenCV-and-Python"></a>Fingers-Detection-using-OpenCV-and-Python</h2><blockquote><p>A simple Fingers Detection (or Gesture Recognition) using OpenCV and Python with background substraction 简单手势识别</p></blockquote><p><a href="https://github.com/lzane/Fingers-Detection-using-OpenCV-and-Python" target="_blank" rel="noopener">Fingers-Detection-using-OpenCV-and-Python</a></p><blockquote><p>for people using python2 and opencv2, please check out the <a href="https://github.com/lzane/Fingers-Detection-using-OpenCV-and-Python/tree/py2_opencv2" target="_blank" rel="noopener"><code>lzane:py2_opencv2</code></a> branch.</p></blockquote><blockquote><p>for people using opencv4, please change line 96 in the <code>new.py</code> to <code>contours, hierarchy = cv2.findContours(thresh1, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)</code> according to the <a href="https://github.com/lzane/Fingers-Detection-using-OpenCV-and-Python/issues/7#issuecomment-509925971" target="_blank" rel="noopener">opencv api change</a>.</p></blockquote><h3 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h3><ul><li>OS: MacOS El Capitan</li><li>Platform: Python 3</li><li>Librarys:<ul><li>OpenCV 3</li><li>appscript</li></ul></li></ul><h3 id="Demo-Videos"><a href="#Demo-Videos" class="headerlink" title="Demo Videos"></a>Demo Videos</h3><ul><li>Youtube: <a href="https://youtu.be/CmBxUnp7XwM" target="_blank" rel="noopener">Click here</a></li><li>Youku: <a href="http://v.youku.com/v_show/id_XMTc3MjI4MjQwOA==.html" target="_blank" rel="noopener">Click here</a></li></ul><h3 id="How-to-run-it"><a href="#How-to-run-it" class="headerlink" title="How to run it?"></a>How to run it?</h3><ul><li>run it in python</li><li>press <code>&#39;b&#39;</code> to capture the background model (Remember to move your hand out of the blue rectangle)</li><li>press <code>&#39;r&#39;</code> to reset the backgroud model</li><li>press <code>&#39;ESC&#39;</code> to exit</li></ul><h3 id="Process"><a href="#Process" class="headerlink" title="Process"></a>Process</h3><h4 id="Capture-original-image"><a href="#Capture-original-image" class="headerlink" title="Capture original image"></a>Capture original image</h4><p>Capture video from camera and pick up a frame.</p><p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/lzane/Fingers-Detection-using-OpenCV-and-Python@master/material/-1474508814843.png" alt="Alt text"></p><h4 id="Capture-background-model-amp-Background-subtraction"><a href="#Capture-background-model-amp-Background-subtraction" class="headerlink" title="Capture background model &amp; Background subtraction"></a>Capture background model &amp; Background subtraction</h4><p>Use background subtraction method called <strong>Gaussian Mixture-based Background/Foreground Segmentation Algorithm</strong> to subtract background.</p><p>For more information about the method, check <a href="http://www.zoranz.net/Publications/zivkovic2004ICPR.pdf" target="_blank" rel="noopener">Zivkovic2004</a></p><p>Here I use the OpenCV’s built-in function <code>BackgroundSubtractorMOG2</code> to subtract background.</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bgModel = cv2.BackgroundSubtractorMOG2(<span class="number">0</span>, bgSubThreshold)</span><br></pre></td></tr></table></figure></div><p>Build a background subtractor model</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fgmask = bgModel.apply(frame)</span><br></pre></td></tr></table></figure></div><p>Apply the model to a frame</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res = cv2.bitwise_and(frame, frame, mask=fgmask)</span><br></pre></td></tr></table></figure></div><p>Get the foreground(hand) image</p><p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/lzane/Fingers-Detection-using-OpenCV-and-Python@master/material/-1474508613267.png" alt="Alt text"></p><h4 id="Gaussian-blur-amp-Threshold"><a href="#Gaussian-blur-amp-Threshold" class="headerlink" title="Gaussian blur &amp; Threshold"></a>Gaussian blur &amp; Threshold</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)</span><br></pre></td></tr></table></figure></div><p>First convert the image to gray scale.</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">blur = cv2.GaussianBlur(gray, (blurValue, blurValue), <span class="number">0</span>)</span><br></pre></td></tr></table></figure></div><p>By Gaussian blurring, we create smooth transition from one color to another and reduce the edge content.</p><p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/lzane/Fingers-Detection-using-OpenCV-and-Python@master/material/-1474508640877.png" alt="Alt text"></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ret, thresh = cv2.threshold(blur, threshold, <span class="number">255</span>, cv2.THRESH_BINARY)</span><br></pre></td></tr></table></figure></div><p>We use thresholding to create binary images from grayscale images.</p><p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/lzane/Fingers-Detection-using-OpenCV-and-Python@master/material/-1474508661044.png" alt="Alt text"></p><h4 id="Contour-amp-Hull-amp-Convexity"><a href="#Contour-amp-Hull-amp-Convexity" class="headerlink" title="Contour &amp; Hull &amp; Convexity"></a>Contour &amp; Hull &amp; Convexity</h4><p>We now need to find out the hand contour from the binary image we created before and detect fingers (or in other words, recognize gestures)</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">contours, hierarchy = cv2.findContours(thresh1, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)</span><br></pre></td></tr></table></figure></div><p>This function will find all the contours from the binary image. We need to get the biggest contours (our hand) based on their area since we can assume that our hand will be the biggest contour in this situation. (it’s obvious)</p><p>After picking up our hand, we can create its hull and detect the defects by calling :</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hull = cv2.convexHull(res)</span><br><span class="line">defects = cv2.convexityDefects(res, hull)</span><br></pre></td></tr></table></figure></div><p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/lzane/Fingers-Detection-using-OpenCV-and-Python@master/material/-1474508788185.png" alt="Alt text"></p><p>Now we have the number of fingers. How to use this information? It’s based on your imagination…</p><p>I add in a keyboard simulation package named <strong>appscript</strong> as interface to control Chrome’s dinosaur game.</p><p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/lzane/Fingers-Detection-using-OpenCV-and-Python@master/material/-1474522195081.png" alt="Alt text"></p><hr><h3 id="References-amp-Tutorials"><a href="#References-amp-Tutorials" class="headerlink" title="References &amp; Tutorials"></a>References &amp; Tutorials</h3><ol><li>OpenCV documentation:<br><a href="http://docs.opencv.org/2.4.13/" target="_blank" rel="noopener">http://docs.opencv.org/2.4.13/</a></li><li>Opencv python hand gesture recognition:<br><a href="http://creat-tabu.blogspot.com/2013/08/opencv-python-hand-gesture-recognition.html" target="_blank" rel="noopener">http://creat-tabu.blogspot.com/2013/08/opencv-python-hand-gesture-recognition.html</a></li><li>Mahaveerverma’s hand gesture recognition project:<br><a href="https://github.com/mahaveerverma/hand-gesture-recognition-opencv" target="_blank" rel="noopener">hand-gesture-recognition-opencv</a></li></ol><h2 id="Kr1s77-flask-video-streaming-recorder"><a href="#Kr1s77-flask-video-streaming-recorder" class="headerlink" title="Kr1s77/flask-video-streaming-recorder"></a>Kr1s77/flask-video-streaming-recorder</h2><blockquote><p>opencv+flask 家庭监控系统(surveillance_system)</p></blockquote><p><span align="center"><code>Raspberry Pi flask+opencv Surveillance System</code></span></p><br><p align="center"><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/CriseLYJ/flask-video-streaming-recorder@master/img/main.jpg" alt="Master"></p><br><p align="center">"<i>Did you know all your doors were locked?</i>" - Riddick (The Chronicles of Riddick)</p><br><p align="center"><a href="https://github.com/CriseLYJ/flask-video-streaming-recorder/tree/master" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://img.shields.io/badge/Branch-master-green.svg?longCache=true" alt="Branch"> </a><a href="https://github.com/CriseLYJ/flask-video-streaming-recorder/pulls" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://img.shields.io/badge/PRs-welcome-brightgreen.svg?longCache=true" alt="Pull Requests"> </a><a href="http://www.gnu.org/licenses/" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://img.shields.io/badge/License-GNU-blue.svg?longCache=true" alt="License"></a></p><div align="center"><sub>Created by <a href="https://criselyj.github.io/" target="_blank" rel="noopener">CriseLYJ</a></sub></div><br><hr><h3 id="Installing"><a href="#Installing" class="headerlink" title="Installing"></a>Installing</h3><h4 id="🐍First-you-should-install-Python3-x-on-your-Raspberry-Pi"><a href="#🐍First-you-should-install-Python3-x-on-your-Raspberry-Pi" class="headerlink" title="🐍First you should install Python3.x on your Raspberry Pi"></a>🐍First you should install <code>Python3.x</code> on your Raspberry Pi</h4><blockquote><p>$ sudo apt-get update<br>$ sudo apt-get upgrade</p></blockquote><ul><li>Install python<code>dependent environment</code></li><li>install python <code>Dependent environment</code></li></ul><blockquote><p>$ sudo apt-get install build-essential libsqlite3-dev sqlite3 bzip2 libbz2-dev</p></blockquote><ul><li>Download the python3.6 version source and extract it</li><li>Download the python version 3.6 source code and decompress it</li></ul><blockquote><pre><code>$ wget https://www.python.org/ftp/python/3.6.1/Python-3.6.1.tgz
$ tar zxvf Python-3.6.1.tgz</code></pre></blockquote><ul><li>Compilation and installation</li></ul><blockquote><pre><code>$ cd Python-3.6.1
$ sudo ./configure
$ sudo make
$ sudo make install</code></pre></blockquote><ul><li>Check installation</li></ul><blockquote><pre><code>$ ls -al /usr/local/bin/python*</code></pre></blockquote><h4 id="Next-install-the-module"><a href="#Next-install-the-module" class="headerlink" title="Next install the module"></a>Next install the module</h4><ul><li>Install flask</li></ul><blockquote><pre><code>$ pip3 install flask==0.10.1</code></pre></blockquote><ul><li>Install opencv</li><li>install opencv</li></ul><blockquote><p>$ pip3 install opencv_python</p></blockquote><h3 id="Running-the-tests"><a href="#Running-the-tests" class="headerlink" title="Running the tests"></a>Running the tests</h3><ul><li>Download all files to run</li><li>run main.py</li></ul><blockquote><pre><code>$ python3 main.py -p 0.0.0.0</code></pre><p>当然你也可以使用Gunicorn来当做你的多线程服务器</p></blockquote><ul><li><p>2019.2.21 update</p></li><li><p>Increased login, a simple login interface, does not need a database</p></li><li><p>Test account</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Username:  admin</span><br><span class="line">Password:  admin</span><br></pre></td></tr></table></figure></div></li><li><p>2019.3.4 update</p></li><li><p>Add multi-threading and recording downloads</p></li><li><p>Support multi-device access, logout login is normal</p></li><li><p>2019.3.14 update</p></li><li><p>现在的目录结构是这个样子</p><p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/Kr1s77/flask-video-streaming-recorder@master/img/tree.png" alt></p></li></ul><ul><li><p>抽取了代码，进行了优化，就是这样目录看起来会很多</p><ul><li><p>Added a beautiful login interface<br><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/Kr1s77/flask-video-streaming-recorder@master/img/login.png" alt="Alt text"></p></li><li><p>Optimization homepage</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/Kr1s77/flask-video-streaming-recorder@master/img/index.jpg" alt="Alt text"></p><ul><li>Add video recording and download capabilities</li><li>Realized the <code>high performance</code>, using the yield generator, and multi-threading, silky smooth!</li></ul></li></ul><h3 id="Author"><a href="#Author" class="headerlink" title="Author"></a>Author</h3><ul><li>Crise LYJ</li></ul><h3 id="Acknowledgments"><a href="#Acknowledgments" class="headerlink" title="Acknowledgments"></a>Acknowledgments</h3><ul><li><p>Thanks for all!</p></li><li><p>Have a good time!</p><p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/Kr1s77/flask-video-streaming-recorder@master/img/hha.jpeg" alt="Alt text"></p></li></ul><h2 id="nuno-faria-tiler"><a href="#nuno-faria-tiler" class="headerlink" title="nuno-faria/tiler"></a>nuno-faria/tiler</h2><blockquote><p>👷 Build images with images</p></blockquote><p><a href="https://github.com/nuno-faria/tiler" target="_blank" rel="noopener">nuno-faria/tiler</a></p><p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/nuno-faria/tiler@master/images/title_stripes.png" alt="title"></p><p>👷 Build images with images.</p><h3 id="About"><a href="#About" class="headerlink" title="About"></a>About</h3><p>Tiler is a tool to create an image using all kinds of other smaller images (tiles). It is different from other mosaic tools since it can adapt to tiles with multiple shapes and sizes (i.e. not limited to squares).</p><p>An image can be built out of circles, lines, waves, cross stitches, legos, minecraft blocks, paper clips, letters, … The possibilities are endless!</p><h3 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h3><ul><li>Clone the repo: <code>git clone https://github.com/nuno-faria/tiler.git</code>;</li><li>Install Python 3;</li><li>Install pip (optional, to install the dependencies);</li><li>Install dependencies: <code>pip install -r requirements.txt</code></li></ul><h3 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h3><ul><li>Make a folder with the tiles (and only the tiles) to build the image;<ul><li>The script <code>gen_tiles.py</code> can help in this task; it builds tiles with multiple colors based on the source tile (note: its recommended for the source file to have an RGB color of (240,240,240)). It is used as <code>python gen_tiles.py path/to/image</code> and creates a folder with a ‘gen_’ prefix in the same path as the base image.</li></ul></li><li>Run <code>python tiler.py path/to/image path/to/tiles_folder/</code>.</li></ul><h3 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h3><p>All configurations can be changed in the <code>conf.py</code> file.</p><h4 id="gen-tiles-py"><a href="#gen-tiles-py" class="headerlink" title="gen_tiles.py"></a><code>gen_tiles.py</code></h4><ul><li><code>DEPTH</code> - number of divisions in each color channel (ex: DEPTH = 4 -&gt; 4 * 4 * 4 = 64 colors);</li><li><code>ROTATIONS</code> - list of rotations, in degrees, to apply over the original image (ex: [0, 90]).</li></ul><h4 id="tiler-py"><a href="#tiler-py" class="headerlink" title="tiler.py"></a><code>tiler.py</code></h4><ul><li><code>COLOR_DEPTH</code> - number of divisions in each color channel (ex: COLOR_DEPTH = 4 -&gt; 4 * 4 * 4 = 64 colors);</li><li><code>RESIZING_SCALES</code> - scale to apply to each tile (ex: [1, 0.75, 0.5, 0.25]);</li><li><code>PIXEL_SHIFT</code> - number of pixels shifted to create each box (ex: (5,5)); if None, shift will be the same as the tile dimension); <img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/nuno-faria/tiler@master/images/pixel_shift.png" width="100%"></li><li><code>OVERLAP_TILES</code> - if tiles can overlap;</li><li><code>RENDER</code> - render image as its being built;</li><li><code>POOL_SIZE</code> - multiprocessing pool size;</li><li><code>IMAGE_TO_TILE</code> - image to tile (ignored if passed as the 1st arg);</li><li><code>TILES_FOLDER</code> - folder with tiles (ignored if passed as the 2nd arg);</li><li><code>OUT</code> - result image filename.</li></ul><h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><h4 id="Circles"><a href="#Circles" class="headerlink" title="Circles"></a>Circles</h4><h5 id="Various-sizes"><a href="#Various-sizes" class="headerlink" title="Various sizes"></a>Various sizes</h5><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/nuno-faria/tiler@master/images/cake_circles.png" width="40%"><p><a href="https://www.flaticon.com/free-icon/cake_1102780" target="_blank" rel="noopener">Original</a> cake image by <a href="https://www.flaticon.com/authors/pongsakornred" target="_blank" rel="noopener">pongsakornred</a> from <a href="https://www.flaticon.com" target="_blank" rel="noopener">FLATICON</a>.</p><h5 id="Fixed"><a href="#Fixed" class="headerlink" title="Fixed"></a>Fixed</h5><ul><li>10x10<img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/nuno-faria/tiler@master/images/cake_circles_simple.png" width="40%"> <img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/nuno-faria/tiler@master/images/starry_night_circles_10x10.png" width="100%"></li><li>25x25<img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/nuno-faria/tiler@master/images/starry_night_circles_25x25.png" width="100%"></li><li>50x50<img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/nuno-faria/tiler@master/images/starry_night_circles_50x50.png" width="100%"></li></ul><h4 id="Paper-clips"><a href="#Paper-clips" class="headerlink" title="Paper clips"></a>Paper clips</h4><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/nuno-faria/tiler@master/images/cake_clips.png" width="40%"><h4 id="Cross-stitch-times"><a href="#Cross-stitch-times" class="headerlink" title="Cross stitch (times)"></a>Cross stitch (times)</h4><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/nuno-faria/tiler@master/images/cake_times.png" width="40%"> <img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/nuno-faria/tiler@master/images/starry_night_times.png" width="100%"><h4 id="Hearts"><a href="#Hearts" class="headerlink" title="Hearts"></a>Hearts</h4><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/nuno-faria/tiler@master/images/heart_hearts.png" width="40%"><h4 id="Legos"><a href="#Legos" class="headerlink" title="Legos"></a>Legos</h4><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/nuno-faria/tiler@master/images/cake_lego.png" width="40%"> <img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/nuno-faria/tiler@master/images/starry_night_lego.png" width="100%"><h4 id="Minecraft-blocks"><a href="#Minecraft-blocks" class="headerlink" title="Minecraft blocks"></a>Minecraft blocks</h4><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/nuno-faria/tiler@master/images/cake_minecraft.png" width="40%"> <img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/nuno-faria/tiler@master/images/starry_night_minecraft.png" width="100%"><h4 id="Stripes-lines"><a href="#Stripes-lines" class="headerlink" title="Stripes (lines)"></a>Stripes (lines)</h4><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/nuno-faria/tiler@master/images/cake_stripes.png" width="50%"><h4 id="At"><a href="#At" class="headerlink" title="At"></a>At</h4><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/nuno-faria/tiler@master/images/github_logo_at.png" width="50%"><h2 id="Hironsan-BossSensor"><a href="#Hironsan-BossSensor" class="headerlink" title="Hironsan/BossSensor"></a>Hironsan/BossSensor</h2><blockquote><p>Hide screen when boss is approaching.</p></blockquote><p><a href="https://github.com/Hironsan/BossSensor" target="_blank" rel="noopener">BossSensor</a></p><h3 id="BossSensor"><a href="#BossSensor" class="headerlink" title="BossSensor"></a>BossSensor</h3><p>Hide your screen when your boss is approaching.</p><h4 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h4><p>The boss stands up. He is approaching.</p><p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/Hironsan/BossSensor@master/resource_for_readme/standup.jpg" alt="standup"></p><p>When he is approaching, the program fetches face images and classifies the image.</p><p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/Hironsan/BossSensor@master/resource_for_readme/approach.jpg" alt="approaching"></p><p>If the image is classified as the Boss, it will monitor changes.</p><p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/Hironsan/BossSensor@master/resource_for_readme/editor.jpg" alt="editor"></p><h4 id="Requirements"><a href="#Requirements" class="headerlink" title="Requirements"></a>Requirements</h4><ul><li>WebCamera</li><li>Python3.5</li><li>OSX</li><li>Anaconda</li><li>Lots of images of your boss and other person image</li></ul><p>Put images into <a href="https://cdn.jsdelivr.net/gh/Hironsan/BossSensor/tree/master/data/boss" target="_blank" rel="noopener">data/boss</a> and <a href="https://github.com/Hironsan/BossSensor/tree/master/data/other" target="_blank" rel="noopener">data/other</a>.</p><h4 id="Usage-1"><a href="#Usage-1" class="headerlink" title="Usage"></a>Usage</h4><p>First, Train boss image.</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python boss_train.py</span><br></pre></td></tr></table></figure></div><p>Second, start BossSensor.</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python camera_reader.py</span><br></pre></td></tr></table></figure></div><h4 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h4><p>Install OpenCV, PyQt4, Anaconda.</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">conda create -n venv python&#x3D;3.5</span><br><span class="line">source activate venv</span><br><span class="line">conda install -c https:&#x2F;&#x2F;conda.anaconda.org&#x2F;menpo opencv3</span><br><span class="line">conda install -c conda-forge tensorflow</span><br><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure></div><p>Change Keras backend from Theano to TensorFlow.</p><h4 id="Licence"><a href="#Licence" class="headerlink" title="Licence"></a>Licence</h4><p><a href="https://github.com/Hironsan/BossSensor/blob/master/LICENSE" target="_blank" rel="noopener">MIT</a></p><h4 id="Author-1"><a href="#Author-1" class="headerlink" title="Author"></a>Author</h4><p><a href="https://github.com/Hironsan" target="_blank" rel="noopener">Hironsan</a></p><h2 id="vipstone-faceai"><a href="#vipstone-faceai" class="headerlink" title="vipstone/faceai"></a>vipstone/faceai</h2><blockquote><p>一款入门级的人脸、视频、文字检测以及识别的项目.</p></blockquote><p><a href="https://github.com/vipstone/faceai" target="_blank" rel="noopener">vipstone/faceai</a></p><h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><ol><li>人脸检测、识别（图片、视频）</li><li>轮廓标识</li><li>头像合成（给人戴帽子）</li><li>数字化妆（画口红、眉毛、眼睛等）</li><li>性别识别</li><li>表情识别（生气、厌恶、恐惧、开心、难过、惊喜、平静等七种情绪）</li><li>视频对象提取</li><li>图片修复（可用于水印去除）</li><li>图片自动上色</li><li>眼动追踪（待完善）</li><li>换脸（待完善）</li></ol><p><strong>查看功能预览↓↓↓</strong></p><h3 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h3><ul><li>Windows 10（x64）</li><li>Python 3.6.4</li><li>OpenCV 3.4.1</li><li>Dlib 19.8.1</li><li>face_recognition 1.2.2</li><li>keras 2.1.6</li><li>tensorflow 1.8.0</li><li>Tesseract OCR 4.0.0-beta.1</li></ul><h3 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h3><p><a href="doc/settingup.md">OpenCV环境搭建</a></p><p><a href="doc/tesseractOCR.md">Tesseract OCR文字识别</a></p><p><a href="doc/detectionOpenCV.md">图片人脸检测（OpenCV版）</a></p><p><a href="doc/detectionDlib.md">图片人脸检测（Dlib版）</a></p><p><a href="doc/videoOpenCV.md">视频人脸检测（OpenCV版）</a></p><p><a href="doc/videoDlib.md">视频人脸检测（Dlib版）</a></p><p><a href="doc/faceRecognitionOutline.md">脸部轮廓绘制</a></p><p><a href="doc/faceRecognitionMakeup.md">数字化妆</a></p><p><a href="doc/faceRecognition.md">视频人脸识别</a></p><p><a href="doc/compose.md">头像特效合成</a></p><p><a href="doc/gender.md">性别识别</a></p><p><a href="doc/emotion.md">表情识别</a></p><p><a href="https://github.com/vipstone/faceai/blob/master/doc/hsv-opencv.md" target="_blank" rel="noopener">视频对象提取</a></p><p><a href="https://github.com/vipstone/faceai/blob/master/doc/inpaint.md" target="_blank" rel="noopener">图片修复</a></p><h3 id="其他教程"><a href="#其他教程" class="headerlink" title="其他教程"></a>其他教程</h3><p><a href="doc/ubuntuChange.md">Ubuntu apt-get和pip源更换</a></p><p><a href="doc/pipChange.md">pip/pip3更换国内源——Windows版</a></p><p><a href="doc/chinese.md">OpenCV添加中文</a></p><p><a href="https://github.com/vipstone/faceai/blob/master/doc/opencv/mouse.md" target="_blank" rel="noopener">使用鼠标绘图——OpenCV</a></p><h3 id="功能预览"><a href="#功能预览" class="headerlink" title="功能预览"></a>功能预览</h3><p><strong>绘制脸部轮廓</strong></p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/vipstone/faceai@master/res/face_recognition-outline.png" width="250" height="300" alt="绘制脸部轮廓"><hr><p><strong>人脸68个关键点标识</strong></p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/vipstone/faceai@master/res/dlib68.png" width="230" height="300" alt="人脸68个关键点标识"><hr><p><strong>头像特效合成</strong></p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/vipstone/faceai@master/res/compose.png" width="200" height="300" alt="头像特效合成"><hr><p><strong>性别识别</strong></p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/vipstone/faceai@master/res/gender.png" width="430" height="220" alt="性别识别"><hr><p><strong>表情识别</strong></p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/vipstone/faceai@master/res/emotion.png" width="250" height="300" alt="表情识别"><hr><p><strong>数字化妆</strong></p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/vipstone/faceai@master/res/faceRecognitionMakeup-1.png" width="450" height="300" alt="视频人脸识别"><hr><p><strong>视频人脸检测</strong></p><p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/vipstone/faceai@master/res/video-jiance.gif" alt></p><hr><p><strong>视频人脸识别</strong></p><p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/vipstone/faceai@master/res/faceRecognition.gif" alt></p><hr><p><strong>视频人脸识别</strong></p><p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="http://icdn.apigo.cn/opencv-hsv.gif" alt></p><hr><p><strong>图片修复</strong></p><p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="http://icdn.apigo.cn/inpaint.png?2" alt></p><hr><p><strong>图片自动上色</strong></p><p><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="http://icdn.apigo.cn/colorize-faceai.png" alt></p><hr><h3 id="技术方案"><a href="#技术方案" class="headerlink" title="技术方案"></a>技术方案</h3><p>技术实现方案介绍</p><pre><code>人脸识别：OpenCV / Dlib

人脸检测：face_recognition

性别识别：keras + tensorflow

文字识别：Tesseract OCR</code></pre><h4 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h4><p>换脸——待完善</p><p>眼睛移动方向检测——待完善</p><p>Dlib性能优化方案</p><p>Dlib模型训练方法</p><p>Tesseract模型训练方法</p><h2 id="youyuge34-Anime-InPainting"><a href="#youyuge34-Anime-InPainting" class="headerlink" title="youyuge34/Anime-InPainting"></a>youyuge34/Anime-InPainting</h2><blockquote><p>An application tool of edge-connect, which can do anime inpainting and drawing. 动漫人物图片自动修复，去马赛克，填补，去瑕疵</p></blockquote><p><a href="https://github.com/youyuge34/Anime-InPainting" target="_blank" rel="noopener">youyuge34/Anime-InPainting</a></p><p>Anime-InPainting: An application Tool based on <a href="https://github.com/knazeri/edge-connect" target="_blank" rel="noopener">Edge-Connect</a></p><p align="left"><img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://img.shields.io/badge/version-0.2-brightgreen.svg?style=flat-square" alt="Version"> <img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://img.shields.io/badge/status-Release-gold.svg?style=flat-square" alt="Status"> <img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://img.shields.io/badge/platform-win | linux-lightgrey.svg?style=flat-square" alt="Platform"> <img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://img.shields.io/badge/PyTorch version-1.0-blue.svg?style=flat-square" alt="PyTorch"> <img src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://img.shields.io/badge/License-CC BY·NC 4.0-green.svg?style=flat-square" alt="License"></p><hr><h3 id="重要"><a href="#重要" class="headerlink" title="重要"></a>重要</h3><p><strong>2019.3.27 更新:</strong><br>我们的最新模型 <a href="https://github.com/youyuge34/PI-REC" target="_blank" rel="noopener">PI-REC</a> 更强大.<br>如果你想用最新的AI绘画黑科技，而非仅仅是修补图像，请点击上面的链接👆</p><hr><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>Tool效果看上面👆 | Bilibili视频教程：TO DO</p><p>这是图像修补方向最新研究成果<a href="https://github.com/knazeri/edge-connect" target="_blank" rel="noopener">Edge-Connect</a>的<del>阿姆斯特朗氮气加速魔改</del>（优化）版。<br>用<code>Opencv</code>写了个前端部分，后端是<a href="https://github.com/knazeri/edge-connect" target="_blank" rel="noopener">Edge-Connect</a>，方便当作工具使用。<br>此工具可以用来自动图像修补，去马赛克……同样优化了模型训练的过程。具体优化内容请看<a href="#improve">英文版Improvements</a>。</p><p>更新：<a href="https://github.com/youyuge34/Anime-InPainting/blob/master/training_manual.md#jump_zh" target="_blank" rel="noopener">训练手册</a>已经填坑完发布了！你可以照着指南训练自己数据集了~</p><h3 id="基础环境"><a href="#基础环境" class="headerlink" title="基础环境"></a>基础环境</h3><ul><li>Python 3</li><li>PyTorch <code>1.0</code> (<code>0.4</code> 会报错)</li><li>NVIDIA GPU + CUDA cuDNN （当前版本已可选cpu，请修改<code>config.yml</code>中的<code>DEVICE</code>）</li></ul><h3 id="第三方库安装"><a href="#第三方库安装" class="headerlink" title="第三方库安装"></a>第三方库安装</h3><ul><li>Clone this repo</li><li>安装PyTorch和torchvision –&gt; <a href="http://pytorch.org" target="_blank" rel="noopener">http://pytorch.org</a></li><li>安装 python requirements:<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure></div></li></ul><h3 id="运行Tool"><a href="#运行Tool" class="headerlink" title="运行Tool"></a>运行Tool</h3><p>教练！我有个大胆的想法🈲……别急，一步步来：</p><p><strong>注意：以下模型是在动漫头像数据集上训练的，所以对动漫全身大图修补效果一般，想自己再训练的参考下面的训练指南</strong></p><ol><li>下训练好的模型文件 –&gt; <a href="https://drive.google.com/file/d/12I-K7GQEXEL_rEOVJnRv7ecVHyuZE-1-/view?usp=sharing" target="_blank" rel="noopener">Google Drive</a> | <a href="https://pan.baidu.com/s/1WkeRtYViGGGw4fUqPo3nsg" target="_blank" rel="noopener">Baidu</a></li><li>解压 <code>.7z</code> 放到你的根目录下.<br>确保你的目录现在是这样: <code>./model/getchu/&lt;xxxxx.pth&gt;</code></li><li>完成上面的基础环境和第三方库安装步骤</li><li>(可选) 检查并编辑 <code>./model/getchu/config.yml</code> 配置文件</li><li>使用以下命令运行：</li></ol><h4 id="默认Tool"><a href="#默认Tool" class="headerlink" title="默认Tool:"></a>默认Tool:</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python tool_patch.py --path model/getchu/</span><br></pre></td></tr></table></figure></div><h4 id="带Edge编辑窗口的Tool"><a href="#带Edge编辑窗口的Tool" class="headerlink" title="带Edge编辑窗口的Tool:"></a>带Edge编辑窗口的Tool:</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python tool_patch.py --edge --path model/getchu/</span><br></pre></td></tr></table></figure></div><h4 id="命令行参数帮助"><a href="#命令行参数帮助" class="headerlink" title="命令行参数帮助"></a>命令行参数帮助</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python tool_patch.py -h</span><br></pre></td></tr></table></figure></div><blockquote><p>PS. 你也能用tool跑别的任何模型，在这里下载原作更多模型<a href="https://github.com/knazeri/edge-connect" target="_blank" rel="noopener">Edge-Connect</a>.<br>文件组织方式参考上面，其余运行命令都一样。唯一注意的是这个项目的 <code>config.yml</code> 比原作的多了几个选项，报错了的话注意修改。</p></blockquote><h3 id="Tool操作指南"><a href="#Tool操作指南" class="headerlink" title="Tool操作指南"></a>Tool操作指南</h3><p>详细内容请翻看控制台的打印内容，或查看<code>tool_patch.py</code>里的<code>__doc__</code><br>简略版tool使用指南：</p><table><thead><tr><th>按键</th><th>说明</th></tr></thead><tbody><tr><td>鼠标左键</td><td>Input窗口：画出瑕疵区域的遮盖，Edge窗口：手动画边缘</td></tr><tr><td>鼠标右键</td><td>Edge窗口：橡皮擦</td></tr><tr><td>按键 <code>[</code></td><td>笔刷变细 （控制台打印粗细大小）</td></tr><tr><td>按键 <code>]</code></td><td>笔刷变粗</td></tr><tr><td>按键 <code>0</code></td><td>Todo</td></tr><tr><td>按键 <code>1</code></td><td>Todo</td></tr><tr><td>按键 <code>n</code></td><td>修补黑色涂抹区域，只使用一张输入图片</td></tr><tr><td>按键 <code>e</code></td><td>修补黑色涂抹区域，使用输入图片和边缘图片（仅当edge窗口启动时有效）</td></tr><tr><td>按键 <code>r</code></td><td>全部重置</td></tr><tr><td>按键 <code>s</code></td><td>保存输出图片</td></tr><tr><td>按键 <code>q</code></td><td>退出</td></tr></tbody></table><h3 id="训练指南"><a href="#训练指南" class="headerlink" title="训练指南"></a>训练指南</h3><p>训练指南 –&gt; <a href="https://github.com/youyuge34/Anime-InPainting/blob/master/training_manual.md#jump_zh" target="_blank" rel="noopener">阅读</a></p><h3 id="Feature-Matching-特征匹配"><a href="#Feature-Matching-特征匹配" class="headerlink" title="Feature Matching(特征匹配)"></a>Feature Matching(特征匹配)</h3><ul><li>对水印模板图片进行了一些初始化处理，比如二值化后去除非文字部分等</li><li>尝试了 OpenCV 的多种算法<ul><li>比如 ORB + Brute-Force，即蛮力匹配，对应 cv2.BFMatcher() 方法</li><li>比如 SIFT + FLANN，即快速最近邻匹配，对应 cv2.BFMatcher() 方法</li><li>比如 Template Matching，即模板匹配，对应 cv2.matchTemplate() 方法</li></ul></li><li>最后发现 Template Matching 最简单方便，效果也最好。</li><li>如果水印位置固定的话则可以跳过Feature Matching(特征匹配)，直接进行下一步的Inpainting(图片修复)</li></ul><h3 id="Inpainting-图片修复"><a href="#Inpainting-图片修复" class="headerlink" title="Inpainting(图片修复)"></a>Inpainting(图片修复)</h3><ul><li>修复图片前需要做一些前置处理<ul><li>首先要得到图片的去水印 Mask 图片，即和待处理图片一样大小的除了水印部分的文字部分外其他部分全部是黑色的位图</li><li>因为前面对水印做了二值化等处理，最终效果发现会有水印轮廓，所以需要对 Mask 图片做一次膨胀处理覆盖掉轮廓</li></ul></li><li>选用了Telea在2004年提出的Telea算法，即基于快速行进（FMM）的修复算法<ul><li>对应 cv2.inpaint(img, mask, 5, cv2.INPAINT_TELEA)</li><li>对应论文：<a href="http://www.cs.rug.nl/~alext/PAPERS/JGT04/paper.pdf" target="_blank" rel="noopener">An Image Inpainting Technique Based on the Fast Marching Method (2004)</a></li></ul></li></ul><h3 id="Todo"><a href="#Todo" class="headerlink" title="Todo"></a>Todo</h3><ul><li>由于某些图片的水印和背景图片相似程度太高，如何提高水印位置的识别正确率</li><li>改进修复图片算法，可以考虑用深度学习来做做看？</li><li>Google CVPR 2017, <a href="https://watermark-cvpr17.github.io" target="_blank" rel="noopener">《On the Effectiveness of Visible Watermarks》</a>这个据说很牛的，回头可以读一读</li></ul><h4 id="License"><a href="#License" class="headerlink" title="License"></a>License</h4><p><a href="https://tldrlegal.com/license/mit-license" target="_blank" rel="noopener">MIT</a></p></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Emil</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://blog.hvnobug.com/post/opencv-opensource.html">https://blog.hvnobug.com/post/opencv-opensource.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.hvnobug.com">Emil`s Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/python/">python </a><a class="post-meta__tags" href="/tags/opencv/">opencv</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/original-anime/16.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"><i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/medias/reward/wechat.png" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/medias/reward/alipay.jpg" alt="支付宝"><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/post/awesome-java-github-project.html"><img class="prev_cover" src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/original-anime/2.png" onerror='onerror=null,src="/img/404.jpg"'><div class="label">上一篇</div><div class="prev_info"><span>推荐一些实用的Github项目(Java篇)</span></div></a></div><div class="next-post pull_right"><a href="/post/about-document-encrypt.html"><img class="next_cover" src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/original-anime/1.png" onerror='onerror=null,src="/img/404.jpg"'><div class="label">下一篇</div><div class="next_info"><span>关于博客文章加密的设计</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/post/how-interesting-project-thefuck.html" title="一个神奇的 python 开源项目-thefuck"><img class="relatedPosts_cover" src="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/loading/1.gif" data-original="https://cdn.jsdelivr.net/gh/hvnobug/assets/blog/album/original-anime/12.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-01-23</div><div class="relatedPosts_title">一个神奇的 python 开源项目-thefuck</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify=!1,verify=!1,GUEST_INFO=["nick","mail","link"],guest_info="nick,mail,link".split(",").filter(function(i){return GUEST_INFO.indexOf(i)>-1});guest_info=0==guest_info.length?GUEST_INFO:guest_info,window.valine=new Valine({el:"#vcomment",notify:notify,verify:verify,appId:"wN7GK2Jgd6fz8so4U85XeUxl-9Nh9j0Va",appKey:"JRpha8sPFNqXkv1a0HNIIQFY",placeholder:"说点什么吧!",avatar:"monsterid",guest_info:guest_info,pageSize:"10",lang:"zh-cn",recordIP:!0})</script></div></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 By Emil</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="icp"><a href="http://www.miitbeian.gov.cn/# 备案链接" target="_blank" rel="noopener"><img class="icp-icon" src="/img/icp.png"><span>豫ICP备18037410号-2</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments"></i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/fireworks.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!0,document.body.addEventListener("input",POWERMODE)</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5">hexo-generator-search</a> <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/assets/lazyload-image.js" type="application/javascript"></script><link href="//unpkg.com/aplayer/dist/APlayer.min.css" rel="stylesheet"><script src="//cdn.jsdelivr.net/npm/hls.js"></script><script src="//unpkg.com/aplayer/dist/APlayer.min.js"></script><script src="/assets/aplayer.js" type="text/javascript"></script><script type="text/javascript">const $title = $('.bg-cover .title');
    if ($title.length > 0) {
        $.ajax({
            url: 'https://sdk.jinrishici.com/v2/browser/jinrishici.js',
            dataType: "script",
            cache: true,
            async: false,
            success: function () {
                jinrishici.load(function (result) {
                    // 自己的处理逻辑
                    const {status, data} = result;
                    if (status === 'success') {
                        $title.css('font-size', '3rem');
                        $title.html(data.origin.title + '<span style="font-size:2rem;margin-left:1rem;">' + data.origin.author + '-' + data.origin['dynasty'] + '</span>');
                        typed.strings = data.origin.content.slice(0, 2);
                    }
                });
            }
        });
    }</script><script src="//cdn.jsdelivr.net/npm/js-base64/base64.min.js"></script><script>$("a").each(function(){const t=$(this),e=t.attr("href");if(e&&e.match("^((http|https|thunder|qqdl|ed2k|Flashget|qbrowser|ftp|rtsp|mms)://)")){const r=e.split("/");if(r.length>=3){const o=r[2];(""!==o||window.location.host)&&(t.attr("href","/go.html?url="+Base64.encode(e)).attr("rel","external nofollow noopener noreferrer"),t.attr("target","_blank"))}}})</script></body></html><!-- rebuild by neat -->